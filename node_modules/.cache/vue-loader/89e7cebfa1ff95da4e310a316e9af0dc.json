{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue?vue&type=style&index=0&id=37dfd6fc&scoped=true&lang=less&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue","mtime":1607754060112},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\css-loader\\dist\\cjs.js","mtime":1602332871931},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1602332873317},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\postcss-loader\\src\\index.js","mtime":1602332872304},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\less-loader\\dist\\cjs.js","mtime":1602332955985},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js","mtime":1602332873317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyDpk7rmu6HmlbTlsY8NCi5sb2dpbi1jb250YWluZXIgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGxlZnQ6IDA7DQogIHRvcDogMDsNCiAgcmlnaHQ6IDA7DQogIGJvdHRvbTogMDsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246Y29sdW1uOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgYmFja2dyb3VuZDogdXJsKCIuLi8uLi9hc3NldHMvbG9naW5fYmcuanBnIikgbm8tcmVwZWF0Ow0KICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOw0KICAubG9naW4tZm9ybS13cmFwIHsNCiAgICBtaW4td2lkdGg6IDMwMHB4Ow0KICAgIHBhZGRpbmc6IDMwcHggNTBweCAxMHB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgLmxvZ2luLWhlYWQgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgLmxvZ28gew0KICAgICAgICB3aWR0aDogMjAwcHg7DQogICAgICAgIGhlaWdodDogNTdweDsNCiAgICAgICAgYmFja2dyb3VuZDogdXJsKCIuLi8uLi9hc3NldHMvbG9nb19pbmRleC5wbmciKSBuby1yZXBlYXQ7DQogICAgICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjsNCiAgICAgIH0NCiAgICB9DQogICAgLmxvZ2luLWZvcm0gew0KICAgICAgLmxvZ2luLWJ0biB7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form-wrap\">\r\n      <div class=\"login-head\">\r\n        <div class=\"logo\"></div>\r\n      </div>\r\n\r\n      <el-form class=\"login-form\" :model=\"form\" :rules=\"rules\" ref=\"refLogin\">\r\n        <el-form-item prop='mobile'>\r\n          <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\" ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop='code'>\r\n          <el-input v-model=\"form.code\" placeholder=\"请输入验证码\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"agree\">\r\n          <el-checkbox v-model=\"form.agree\">我已阅读并同意用户协议和隐私条款</el-checkbox>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button class=\"login-btn\" type=\"primary\" @click='fn(\"refLogin\")'>登录</el-button>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Login, userPatch } from '@/api/user.js'\r\nimport { setUser } from '@/utils/storage.js'\r\nexport default {\r\n  name: 'Login', // 加个name, 是为了给组件起个名字, 在调试工具中能方便调试\r\n  data () {\r\n    // rule 当前规则的相关信息   value 当前校验的值  callback 成功调用 callback()    失败调用  callback(error('xxxxx'))\r\n    const validatePass = (rule, value, callback) => {\r\n      // console.log(rule, value, callback)\r\n      if (value === false) {\r\n        callback(new Error('请同意许可'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        mobile: '13911111111',\r\n        code: '246810',\r\n        agree: true,\r\n        name: '金三胖'\r\n      },\r\n      rules: {\r\n        mobile: [\r\n          // require:非空   必填项\r\n          { required: true, message: '请输入手机号', trigger: ['blur', 'change'] },\r\n          // min max  长度范围\r\n          // { min: 6, max: 11, message: '手机长度在 6 到 11 个字符', trigger: ['blur', 'change'] }\r\n          // pattern:正则\r\n          { pattern: /^1\\d{10}$/, message: '手机号长度为11位', trigger: ['blur', 'change'] }\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入验证码', trigger: ['blur', 'change'] },\r\n          { pattern: /^\\d{6}$/, message: '验证码长度为6位', trigger: ['blur', 'change'] }\r\n        ],\r\n        agree: [\r\n          { validator: validatePass, trigger: ['blur', 'change'] }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    fn (a) {\r\n      // ref这个属性 需要通过$ref 来调用 确认对应的dom元素 或者 组件    然后去调用方法\r\n      this.$refs[a].validate((flag) => {\r\n        if (!flag) return\r\n        Login(this.form.mobile, this.form.code).then(res => {\r\n          console.log(res)\r\n          // 本地存储登录信息\r\n          setUser(res.data.data)\r\n          this.$message.success('登陆成功')\r\n          this.$router.push('/')\r\n        }).catch(err => {\r\n          this.$message.error('登录失败, 手机号或者验证码错误')\r\n          console.log(err)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 铺满整屏\r\n.login-container {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction:column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: url(\"../../assets/login_bg.jpg\") no-repeat;\r\n  background-size: cover;\r\n  .login-form-wrap {\r\n    min-width: 300px;\r\n    padding: 30px 50px 10px;\r\n    background-color: #fff;\r\n    .login-head {\r\n      display: flex;\r\n      justify-content: center;\r\n      .logo {\r\n        width: 200px;\r\n        height: 57px;\r\n        background: url(\"../../assets/logo_index.png\") no-repeat;\r\n        background-size: contain;\r\n      }\r\n    }\r\n    .login-form {\r\n      .login-btn {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}