{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue","mtime":1607754060112},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js","mtime":1602332858756},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js","mtime":1602332873317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBMb2dpbiwgdXNlclBhdGNoIH0gZnJvbSAnQC9hcGkvdXNlci5qcycNCmltcG9ydCB7IHNldFVzZXIgfSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UuanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdMb2dpbicsIC8vIOWKoOS4qm5hbWUsIOaYr+S4uuS6hue7mee7hOS7tui1t+S4quWQjeWtlywg5Zyo6LCD6K+V5bel5YW35Lit6IO95pa55L6/6LCD6K+VDQogIGRhdGEgKCkgew0KICAgIC8vIHJ1bGUg5b2T5YmN6KeE5YiZ55qE55u45YWz5L+h5oGvICAgdmFsdWUg5b2T5YmN5qCh6aqM55qE5YC8ICBjYWxsYmFjayDmiJDlip/osIPnlKggY2FsbGJhY2soKSAgICDlpLHotKXosIPnlKggIGNhbGxiYWNrKGVycm9yKCd4eHh4eCcpKQ0KICAgIGNvbnN0IHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykNCiAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flkIzmhI/orrjlj68nKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHsNCiAgICAgICAgbW9iaWxlOiAnMTM5MTExMTExMTEnLA0KICAgICAgICBjb2RlOiAnMjQ2ODEwJywNCiAgICAgICAgYWdyZWU6IHRydWUsDQogICAgICAgIG5hbWU6ICfph5HkuInog5YnDQogICAgICB9LA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgbW9iaWxlOiBbDQogICAgICAgICAgLy8gcmVxdWlyZTrpnZ7nqbogICDlv4XloavpobkNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0sDQogICAgICAgICAgLy8gbWluIG1heCAg6ZW/5bqm6IyD5Zu0DQogICAgICAgICAgLy8geyBtaW46IDYsIG1heDogMTEsIG1lc3NhZ2U6ICfmiYvmnLrplb/luqblnKggNiDliLAgMTEg5Liq5a2X56ymJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0NCiAgICAgICAgICAvLyBwYXR0ZXJuOuato+WImQ0KICAgICAgICAgIHsgcGF0dGVybjogL14xXGR7MTB9JC8sIG1lc3NhZ2U6ICfmiYvmnLrlj7fplb/luqbkuLoxMeS9jScsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9DQogICAgICAgIF0sDQogICAgICAgIGNvZGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6aqM6K+B56CBJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0sDQogICAgICAgICAgeyBwYXR0ZXJuOiAvXlxkezZ9JC8sIG1lc3NhZ2U6ICfpqozor4HnoIHplb/luqbkuLo25L2NJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0NCiAgICAgICAgXSwNCiAgICAgICAgYWdyZWU6IFsNCiAgICAgICAgICB7IHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZm4gKGEpIHsNCiAgICAgIC8vIHJlZui/meS4quWxnuaApyDpnIDopoHpgJrov4ckcmVmIOadpeiwg+eUqCDnoa7orqTlr7nlupTnmoRkb23lhYPntKAg5oiW6ICFIOe7hOS7tiAgICDnhLblkI7ljrvosIPnlKjmlrnms5UNCiAgICAgIHRoaXMuJHJlZnNbYV0udmFsaWRhdGUoKGZsYWcpID0+IHsNCiAgICAgICAgaWYgKCFmbGFnKSByZXR1cm4NCiAgICAgICAgTG9naW4odGhpcy5mb3JtLm1vYmlsZSwgdGhpcy5mb3JtLmNvZGUpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgLy8g5pys5Zyw5a2Y5YKo55m75b2V5L+h5oGvDQogICAgICAgICAgc2V0VXNlcihyZXMuZGF0YS5kYXRhKQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55m76ZmG5oiQ5YqfJykNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpDQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign55m75b2V5aSx6LSlLCDmiYvmnLrlj7fmiJbogIXpqozor4HnoIHplJnor68nKQ0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form-wrap\">\r\n      <div class=\"login-head\">\r\n        <div class=\"logo\"></div>\r\n      </div>\r\n\r\n      <el-form class=\"login-form\" :model=\"form\" :rules=\"rules\" ref=\"refLogin\">\r\n        <el-form-item prop='mobile'>\r\n          <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\" ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop='code'>\r\n          <el-input v-model=\"form.code\" placeholder=\"请输入验证码\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"agree\">\r\n          <el-checkbox v-model=\"form.agree\">我已阅读并同意用户协议和隐私条款</el-checkbox>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button class=\"login-btn\" type=\"primary\" @click='fn(\"refLogin\")'>登录</el-button>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Login, userPatch } from '@/api/user.js'\r\nimport { setUser } from '@/utils/storage.js'\r\nexport default {\r\n  name: 'Login', // 加个name, 是为了给组件起个名字, 在调试工具中能方便调试\r\n  data () {\r\n    // rule 当前规则的相关信息   value 当前校验的值  callback 成功调用 callback()    失败调用  callback(error('xxxxx'))\r\n    const validatePass = (rule, value, callback) => {\r\n      // console.log(rule, value, callback)\r\n      if (value === false) {\r\n        callback(new Error('请同意许可'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        mobile: '13911111111',\r\n        code: '246810',\r\n        agree: true,\r\n        name: '金三胖'\r\n      },\r\n      rules: {\r\n        mobile: [\r\n          // require:非空   必填项\r\n          { required: true, message: '请输入手机号', trigger: ['blur', 'change'] },\r\n          // min max  长度范围\r\n          // { min: 6, max: 11, message: '手机长度在 6 到 11 个字符', trigger: ['blur', 'change'] }\r\n          // pattern:正则\r\n          { pattern: /^1\\d{10}$/, message: '手机号长度为11位', trigger: ['blur', 'change'] }\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入验证码', trigger: ['blur', 'change'] },\r\n          { pattern: /^\\d{6}$/, message: '验证码长度为6位', trigger: ['blur', 'change'] }\r\n        ],\r\n        agree: [\r\n          { validator: validatePass, trigger: ['blur', 'change'] }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    fn (a) {\r\n      // ref这个属性 需要通过$ref 来调用 确认对应的dom元素 或者 组件    然后去调用方法\r\n      this.$refs[a].validate((flag) => {\r\n        if (!flag) return\r\n        Login(this.form.mobile, this.form.code).then(res => {\r\n          console.log(res)\r\n          // 本地存储登录信息\r\n          setUser(res.data.data)\r\n          this.$message.success('登陆成功')\r\n          this.$router.push('/')\r\n        }).catch(err => {\r\n          this.$message.error('登录失败, 手机号或者验证码错误')\r\n          console.log(err)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 铺满整屏\r\n.login-container {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction:column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: url(\"../../assets/login_bg.jpg\") no-repeat;\r\n  background-size: cover;\r\n  .login-form-wrap {\r\n    min-width: 300px;\r\n    padding: 30px 50px 10px;\r\n    background-color: #fff;\r\n    .login-head {\r\n      display: flex;\r\n      justify-content: center;\r\n      .logo {\r\n        width: 200px;\r\n        height: 57px;\r\n        background: url(\"../../assets/logo_index.png\") no-repeat;\r\n        background-size: contain;\r\n      }\r\n    }\r\n    .login-form {\r\n      .login-btn {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}