{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\login\\index.vue","mtime":1607754060112},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js","mtime":1602332858756},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js","mtime":1602332873317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgTG9naW4sIHVzZXJQYXRjaCB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwppbXBvcnQgeyBzZXRVc2VyIH0gZnJvbSAnQC91dGlscy9zdG9yYWdlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgLy8g5Yqg5LiqbmFtZSwg5piv5Li65LqG57uZ57uE5Lu26LW35Liq5ZCN5a2XLCDlnKjosIPor5Xlt6XlhbfkuK3og73mlrnkvr/osIPor5UKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8gcnVsZSDlvZPliY3op4TliJnnmoTnm7jlhbPkv6Hmga8gICB2YWx1ZSDlvZPliY3moKHpqoznmoTlgLwgIGNhbGxiYWNrIOaIkOWKn+iwg+eUqCBjYWxsYmFjaygpICAgIOWksei0peiwg+eUqCAgY2FsbGJhY2soZXJyb3IoJ3h4eHh4JykpCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAvLyBjb25zb2xlLmxvZyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spCiAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WQjOaEj+iuuOWPrycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBtb2JpbGU6ICcxMzkxMTExMTExMScsCiAgICAgICAgY29kZTogJzI0NjgxMCcsCiAgICAgICAgYWdyZWU6IHRydWUsCiAgICAgICAgbmFtZTogJ+mHkeS4ieiDlicKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBtb2JpbGU6IFsvLyByZXF1aXJlOumdnuepuiAgIOW/heWhq+mhuQogICAgICAgIHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9LCAvLyBtaW4gbWF4ICDplb/luqbojIPlm7QKICAgICAgICAvLyB7IG1pbjogNiwgbWF4OiAxMSwgbWVzc2FnZTogJ+aJi+acuumVv+W6puWcqCA2IOWIsCAxMSDkuKrlrZfnrKYnLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfQogICAgICAgIC8vIHBhdHRlcm465q2j5YiZCiAgICAgICAgewogICAgICAgICAgcGF0dGVybjogL14xXGR7MTB9JC8sCiAgICAgICAgICBtZXNzYWdlOiAn5omL5py65Y+36ZW/5bqm5Li6MTHkvY0nLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9LCB7CiAgICAgICAgICBwYXR0ZXJuOiAvXlxkezZ9JC8sCiAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB6ZW/5bqm5Li6NuS9jScsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBhZ3JlZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZuOiBmdW5jdGlvbiBmbihhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyByZWbov5nkuKrlsZ7mgKcg6ZyA6KaB6YCa6L+HJHJlZiDmnaXosIPnlKgg56Gu6K6k5a+55bqU55qEZG9t5YWD57SgIOaIluiAhSDnu4Tku7YgICAg54S25ZCO5Y676LCD55So5pa55rOVCiAgICAgIHRoaXMuJHJlZnNbYV0udmFsaWRhdGUoZnVuY3Rpb24gKGZsYWcpIHsKICAgICAgICBpZiAoIWZsYWcpIHJldHVybjsKICAgICAgICBMb2dpbihfdGhpcy5mb3JtLm1vYmlsZSwgX3RoaXMuZm9ybS5jb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7IC8vIOacrOWcsOWtmOWCqOeZu+W9leS/oeaBrwoKICAgICAgICAgIHNldFVzZXIocmVzLmRhdGEuZGF0YSk7CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55m76ZmG5oiQ5YqfJyk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eZu+W9leWksei0pSwg5omL5py65Y+35oiW6ICF6aqM6K+B56CB6ZSZ6K+vJyk7CgogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,KAAA,EAAA,SAAA,QAAA,eAAA;AACA,SAAA,OAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AACA;AACA,EAAA,IAFA,kBAEA;AACA;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA;AACA,UAAA,KAAA,KAAA,KAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KAPA;;AAQA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,MAAA,EAAA,aADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA,IAHA;AAIA,QAAA,IAAA,EAAA;AAJA,OADA;AAOA,MAAA,KAAA,EAAA;AACA,QAAA,MAAA,EAAA,CACA;AACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAAA,SAFA,EAGA;AACA;AACA;AACA;AAAA,UAAA,OAAA,EAAA,WAAA;AAAA,UAAA,OAAA,EAAA,WAAA;AAAA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAAA,SANA,CADA;AASA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAAA,SADA,EAEA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAAA,SAFA,CATA;AAaA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAAA,SADA;AAbA;AAPA,KAAA;AAyBA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,EADA,cACA,CADA,EACA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,CAAA,EAAA,QAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,CAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,CAEA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,SANA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,kBAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,SATA;AAUA,OAZA;AAaA;AAhBA;AAtCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form-wrap\">\r\n      <div class=\"login-head\">\r\n        <div class=\"logo\"></div>\r\n      </div>\r\n\r\n      <el-form class=\"login-form\" :model=\"form\" :rules=\"rules\" ref=\"refLogin\">\r\n        <el-form-item prop='mobile'>\r\n          <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\" ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop='code'>\r\n          <el-input v-model=\"form.code\" placeholder=\"请输入验证码\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"agree\">\r\n          <el-checkbox v-model=\"form.agree\">我已阅读并同意用户协议和隐私条款</el-checkbox>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button class=\"login-btn\" type=\"primary\" @click='fn(\"refLogin\")'>登录</el-button>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Login, userPatch } from '@/api/user.js'\r\nimport { setUser } from '@/utils/storage.js'\r\nexport default {\r\n  name: 'Login', // 加个name, 是为了给组件起个名字, 在调试工具中能方便调试\r\n  data () {\r\n    // rule 当前规则的相关信息   value 当前校验的值  callback 成功调用 callback()    失败调用  callback(error('xxxxx'))\r\n    const validatePass = (rule, value, callback) => {\r\n      // console.log(rule, value, callback)\r\n      if (value === false) {\r\n        callback(new Error('请同意许可'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        mobile: '13911111111',\r\n        code: '246810',\r\n        agree: true,\r\n        name: '金三胖'\r\n      },\r\n      rules: {\r\n        mobile: [\r\n          // require:非空   必填项\r\n          { required: true, message: '请输入手机号', trigger: ['blur', 'change'] },\r\n          // min max  长度范围\r\n          // { min: 6, max: 11, message: '手机长度在 6 到 11 个字符', trigger: ['blur', 'change'] }\r\n          // pattern:正则\r\n          { pattern: /^1\\d{10}$/, message: '手机号长度为11位', trigger: ['blur', 'change'] }\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入验证码', trigger: ['blur', 'change'] },\r\n          { pattern: /^\\d{6}$/, message: '验证码长度为6位', trigger: ['blur', 'change'] }\r\n        ],\r\n        agree: [\r\n          { validator: validatePass, trigger: ['blur', 'change'] }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    fn (a) {\r\n      // ref这个属性 需要通过$ref 来调用 确认对应的dom元素 或者 组件    然后去调用方法\r\n      this.$refs[a].validate((flag) => {\r\n        if (!flag) return\r\n        Login(this.form.mobile, this.form.code).then(res => {\r\n          console.log(res)\r\n          // 本地存储登录信息\r\n          setUser(res.data.data)\r\n          this.$message.success('登陆成功')\r\n          this.$router.push('/')\r\n        }).catch(err => {\r\n          this.$message.error('登录失败, 手机号或者验证码错误')\r\n          console.log(err)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 铺满整屏\r\n.login-container {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction:column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: url(\"../../assets/login_bg.jpg\") no-repeat;\r\n  background-size: cover;\r\n  .login-form-wrap {\r\n    min-width: 300px;\r\n    padding: 30px 50px 10px;\r\n    background-color: #fff;\r\n    .login-head {\r\n      display: flex;\r\n      justify-content: center;\r\n      .logo {\r\n        width: 200px;\r\n        height: 57px;\r\n        background: url(\"../../assets/logo_index.png\") no-repeat;\r\n        background-size: contain;\r\n      }\r\n    }\r\n    .login-form {\r\n      .login-btn {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/login"}]}