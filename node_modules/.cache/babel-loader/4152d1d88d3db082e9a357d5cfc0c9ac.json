{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\articles\\edit-articles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\views\\articles\\edit-articles.vue","mtime":1607754060104},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js","mtime":1602332858756},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\vue-loader\\lib\\index.js","mtime":1602332873317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3Z1ZV96dC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAncXVpbGwvZGlzdC9xdWlsbC5jb3JlLmNzcyc7CmltcG9ydCAncXVpbGwvZGlzdC9xdWlsbC5zbm93LmNzcyc7CmltcG9ydCAncXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzJzsKaW1wb3J0IHsgYWRkQXJ0aWNsZXMsIGVkaXRBcnRpY2xlc0lkLCBlZGl0QXJ0aWNsZXMgfSBmcm9tICdAL2FwaS9hcnRpY2xlcy5qcyc7CmltcG9ydCB7IHF1aWxsRWRpdG9yIH0gZnJvbSAndnVlLXF1aWxsLWVkaXRvcic7CmltcG9ydCBNeUNoYW5uZWxzIGZyb20gJ0AvY29tcG9uZW50cy9teS1jaGFubmVscy52dWUnOwppbXBvcnQgTXlDb3ZlciBmcm9tICdAL2NvbXBvbmVudHMvbXktY292ZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhZGQtZWRpdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgY2hhbm5lbF9pZDogJycsCiAgICAgICAgY292ZXI6IHsKICAgICAgICAgIHR5cGU6IDAsCiAgICAgICAgICBpbWFnZXM6IFtdCiAgICAgICAgfQogICAgICB9LAogICAgICBjaGFubmVsOiBbXSwKICAgICAgZWRpdG9yT3B0aW9uOiB7CiAgICAgICAgcGxhY2Vob2xkZXI6ICcnLAogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IFtbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwgWydibG9ja3F1b3RlJywgJ2NvZGUtYmxvY2snXSwgW3sKICAgICAgICAgICAgaGVhZGVyOiAxCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcjogMgogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGxpc3Q6ICdvcmRlcmVkJwogICAgICAgICAgfSwgewogICAgICAgICAgICBsaXN0OiAnYnVsbGV0JwogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGluZGVudDogJy0xJwogICAgICAgICAgfSwgewogICAgICAgICAgICBpbmRlbnQ6ICcrMScKICAgICAgICAgIH1dLCBbJ2ltYWdlJ11dCiAgICAgICAgfQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5qCH6aKYJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMzAsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDUg5YiwIDMwIOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBjb250ZW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5YaF5a65JywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGNoYW5uZWxfaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmlofnq6DpopHpgZMnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIC8vIOihqOWNleagoemqjAogIGNvbXBvbmVudHM6IHsKICAgIHF1aWxsRWRpdG9yOiBxdWlsbEVkaXRvciwKICAgIE15Q2hhbm5lbHM6IE15Q2hhbm5lbHMsCiAgICBNeUNvdmVyOiBNeUNvdmVyCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQXJ0aWNsZSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEFydGljbGU6IGZ1bmN0aW9uIGxvYWRBcnRpY2xlKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdEFydGljbGVzSWQoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIF90aGlzLmZvcm0gPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS55paH56ugCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGRyYWZ0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5teWZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGZsYWcpIHsKICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIWZsYWcpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRBcnRpY2xlcyhfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCwgZHJhZnQsIF90aGlzMi5mb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2FydGljbGVzJyk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+WPkeW4g+Wksei0pScpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMF1dKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDmoKHpqozlr4zmlofmnKznvJbovpHlmajlhoXlrrkKICAgIHF1aWxsRm46IGZ1bmN0aW9uIHF1aWxsRm4oKSB7CiAgICAgIHRoaXMuJHJlZnMubXlmb3JtLnZhbGlkYXRlRmllbGQoJ2NvbnRlbnQnKTsKICAgIH0sCiAgICAvLyDliIfmjaLml7borrDlvpfph43nva4KICAgIGNoYW5nZUNvdmVyVHlwZTogZnVuY3Rpb24gY2hhbmdlQ292ZXJUeXBlKCkgewogICAgICB0aGlzLmZvcm0uY292ZXIuaW1hZ2VzID0gW107CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["edit-articles.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"add-edit\">\r\n    <el-card class=\"box-card\">\r\n        <template v-slot:header>\r\n                <my-breadcrumb>编辑文章</my-breadcrumb>\r\n        </template>\r\n        <div>\r\n            <el-form ref='myform' :model=\"form\" :rules=\"rules\" label-width=\"40px\" :hide-required-asterisk='true'>\r\n                <el-form-item  label=\"标题\" prop='title'>\r\n                     <el-input v-model=\"form.title\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item  label=\"内容\" prop=\"content\" >\r\n                     <quill-editor v-model=\"form.content\" :options=\"editorOption\" @blur=\"quillFn\" @change='quillFn' ></quill-editor>\r\n                </el-form-item>\r\n                <el-form-item  label=\"封面\">\r\n                  <!-- 这里的lable 就是单选框 的value值  -->\r\n                      <el-radio-group v-model=\"form.cover.type\" @change=\"changeCoverType\">\r\n                        <el-radio :label=\"1\">单图</el-radio>\r\n                        <el-radio :label=\"3\">三图</el-radio>\r\n                        <el-radio :label=\"0\">无图</el-radio>\r\n                        <el-radio :label=\"-1\">自动</el-radio>\r\n                      </el-radio-group>\r\n                      <!-- 有图 -->\r\n                      <!-- 这个v-model就是images 就是图片路劲的一个数据 index 就是下标拿到当前点的那个imageurl -->\r\n                      <div class=\"cover-box\" v-if=\"form.cover.type > 0\"  :key=\"form.cover.type\">\r\n                          <my-cover\r\n                            v-for=\"(item, index) in form.cover.type\"\r\n                            :key=\"index\"\r\n                            v-model=\"form.cover.images[index]\"\r\n                          >\r\n                          </my-cover>\r\n                      </div>\r\n                      <!-- 自动 -->\r\n                      <!-- 这里的v-for 就是几个url就有几个组件  但比他长度多一  就能永远多点一个 -->\r\n                      <div class=\"cover-box\" v-if=\"form.cover.type === -1\"  :key=\"form.cover.type\">\r\n                        <my-cover\r\n                        v-for=\"(item, index) in (form.cover.images.length+1)\"\r\n                        :key=\"index\"\r\n                        v-model=\"form.cover.images[index]\"\r\n                        >\r\n                        </my-cover>\r\n                      </div>\r\n                </el-form-item>\r\n                <el-form-item  label=\"频道\" prop=\"channel_id\">\r\n                    <my-channels v-model=\"form.channel_id\"></my-channels>\r\n                </el-form-item>\r\n                <el-form-item  label=\"标题\">\r\n                     <el-button type=\"primary\" @click='save(false)' >修改提交</el-button>\r\n                     <el-button @click='save(true)'>存入草稿</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </el-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { addArticles, editArticlesId, editArticles } from '@/api/articles.js'\r\nimport { quillEditor } from 'vue-quill-editor'\r\nimport MyChannels from '@/components/my-channels.vue'\r\nimport MyCover from '@/components/my-cover.vue'\r\nexport default {\r\n  name: 'add-edit',\r\n  data () {\r\n    return {\r\n      form: {\r\n        title: '',\r\n        content: '',\r\n        channel_id: '',\r\n        cover: {\r\n          type: 0,\r\n          images: []\r\n        }\r\n      },\r\n      channel: [],\r\n      editorOption: {\r\n        placeholder: '',\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            ['blockquote', 'code-block'],\r\n            [{ header: 1 }, { header: 2 }],\r\n            [{ list: 'ordered' }, { list: 'bullet' }],\r\n            [{ indent: '-1' }, { indent: '+1' }],\r\n            ['image']\r\n          ]\r\n        }\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入标题', trigger: ['blur', 'change'] },\r\n          { min: 5, max: 30, message: '长度在 5 到 30 个字符', trigger: ['blur', 'change'] }\r\n        ],\r\n        content: [\r\n          { required: true, message: '请输入内容', trigger: ['blur', 'change'] }\r\n        ],\r\n        channel_id: [\r\n          { required: true, message: '请选择文章频道', trigger: ['blur', 'change'] }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  // 表单校验\r\n\r\n  components: {\r\n    quillEditor,\r\n    MyChannels,\r\n    MyCover\r\n  },\r\n  created () {\r\n    this.loadArticle(this.$route.params.id)\r\n  },\r\n  methods: {\r\n    async loadArticle (id) {\r\n      const res = await editArticlesId(id)\r\n      console.log(res)\r\n      this.form = res.data.data\r\n    },\r\n    // 修改文章\r\n    save (draft) {\r\n      this.$refs.myform.validate(async flag => {\r\n        if (flag) {\r\n          try {\r\n            const res = await editArticles(this.$route.params.id, draft, this.form)\r\n            this.$message.success('修改成功')\r\n            this.$router.push('/articles')\r\n            console.log(res)\r\n          } catch (err) {\r\n            this.$message.error('发布失败')\r\n            console.log(err)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 校验富文本编辑器内容\r\n    quillFn () {\r\n      this.$refs.myform.validateField('content')\r\n    },\r\n    // 切换时记得重置\r\n    changeCoverType () {\r\n      this.form.cover.images = []\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n    .add-edit /deep/ .ql-editor{\r\n        background-color:skyblue;\r\n        min-height: 300px;\r\n    }\r\n    .add-edit /deep/ .ql-toolbar {\r\n        padding: 0 8px;\r\n    }\r\n    .cover-box {\r\n  display: flex;\r\n  .my-cover {\r\n    margin-right: 20px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/articles"}]}