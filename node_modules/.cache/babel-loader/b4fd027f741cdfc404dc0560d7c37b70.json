{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\src\\utils\\request.js","mtime":1607754060099},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602332858735},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\babel-loader\\lib\\index.js","mtime":1602332858756},{"path":"C:\\Users\\Administrator\\Desktop\\vue_zt\\node_modules\\eslint-loader\\index.js","mtime":1602332868380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGdldFVzZXIgfSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UuanMnOwppbXBvcnQgSlNPTmJpZyBmcm9tICdqc29uLWJpZ2ludCc7CnZhciBodHRwID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL3R0YXBpLnJlc2VhcmNoLml0Y2FzdC5jbicsCiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiAoZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coZGF0YSkvLyDov5nph4znmoRkYXRh5piv5a2X56ym5Liy77yM5Zyo6L+Z5Liq5a2X56ym5Liy55qE5piv5rKh5pyJ5Lii5aSx57K+5bqm55qE77yM5omA5Lul6ZyA6KaB5Zyo6L+Z6YeM5YWI5oqK57K+5bqm6LCD5aW9CiAgICB0cnkgewogICAgICAvLyDkvZznlKgx77ya5oqKanNvbuWtl+espuS4sui9rOS4umpz5a+56LGhCiAgICAgIC8vIOS9nOeUqDLvvJrmiorph4zpnaLnmoTlpKfmlbDlrZflgZrlronlhajlpITnkIYKICAgICAgcmV0dXJuIEpTT05iaWcucGFyc2UoZGF0YSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgfV0KfSk7IC8vIOa3u+WKoOivt+axguaLpuaIquWZqCjmiYDmnIlheGlvc+ivt+axgiDlnKjlj5HpgIHkuYvliY0g6YO95Lya5YWI57uP6L+H6L+Z5Liq6K+35rGC5oum5oiq5ZmoKQoKaHR0cC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciB1c2VySW5mbyA9IGdldFVzZXIoKTsgLy8gY29uc29sZS5sb2coY29uZmlnKSAgIOaJk+WNsGNvbmZpZyAg5LitIOaciWhlYWRlcnMg6L+Z5Liq6aG5IOaJgOS7pSAgIOWcqOi/meeahOaLpuaIquWZqOiuvue9ruS6hiDmr4/mrKHor7fmsYLliY3nu4/ov4fov5nph4zml7YgIOWwsee7meivt+axgueahOW4puS4inRva2Vu5LqGCgogIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiQmVhcmVyICIuY29uY2F0KHVzZXJJbmZvLnRva2VuKTsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nor7fmsYLplJnor6/lgZrkupvku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g5re75Yqg5ZON5bqU5oum5oiq5ZmoCgpodHRwLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["C:/Users/Administrator/Desktop/vue_zt/src/utils/request.js"],"names":["axios","getUser","JSONbig","http","create","baseURL","transformResponse","data","parse","err","interceptors","request","use","config","userInfo","headers","Authorization","token","error","Promise","reject","response"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,OAAOC,OAAP,MAAoB,aAApB;AAEA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAE,iCADe;AAExBC,EAAAA,iBAAiB,EAAE,CAAC,UAAUC,IAAV,EAAgB;AAClC;AACA,QAAI;AACF;AACA;AACA,aAAOL,OAAO,CAACM,KAAR,CAAcD,IAAd,CAAP;AACD,KAJD,CAIE,OAAOE,GAAP,EAAY;AACZ,aAAOF,IAAP;AACD;AACF,GATkB;AAFK,CAAb,CAAb,C,CAcA;;AACAJ,IAAI,CAACO,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC9C,MAAMC,QAAQ,GAAGb,OAAO,EAAxB,CAD8C,CAE9C;;AACAY,EAAAA,MAAM,CAACE,OAAP,CAAeC,aAAf,oBAAyCF,QAAQ,CAACG,KAAlD;AACA,SAAOJ,MAAP;AACD,CALD,EAKG,UAAUK,KAAV,EAAiB;AAClB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARD,E,CAUA;;AACAf,IAAI,CAACO,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAA+B,UAAUS,QAAV,EAAoB;AACjD;AACA,SAAOA,QAAP;AACD,CAHD,EAGG,UAAUH,KAAV,EAAiB;AAClB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAND;AAQA,eAAef,IAAf","sourcesContent":["import axios from 'axios'\r\nimport { getUser } from '@/utils/storage.js'\r\nimport JSONbig from 'json-bigint'\r\n\r\nconst http = axios.create({\r\n  baseURL: 'http://ttapi.research.itcast.cn',\r\n  transformResponse: [function (data) {\r\n    // console.log(data)// 这里的data是字符串，在这个字符串的是没有丢失精度的，所以需要在这里先把精度调好\r\n    try {\r\n      // 作用1：把json字符串转为js对象\r\n      // 作用2：把里面的大数字做安全处理\r\n      return JSONbig.parse(data)\r\n    } catch (err) {\r\n      return data\r\n    }\r\n  }]\r\n})\r\n\r\n// 添加请求拦截器(所有axios请求 在发送之前 都会先经过这个请求拦截器)\r\nhttp.interceptors.request.use(function (config) {\r\n  const userInfo = getUser()\r\n  // console.log(config)   打印config  中 有headers 这个项 所以   在这的拦截器设置了 每次请求前经过这里时  就给请求的带上token了\r\n  config.headers.Authorization = `Bearer ${userInfo.token}`\r\n  return config\r\n}, function (error) {\r\n  // 对请求错误做些什么\r\n  return Promise.reject(error)\r\n})\r\n\r\n// 添加响应拦截器\r\nhttp.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  return response\r\n}, function (error) {\r\n  // 对响应错误做点什么\r\n  return Promise.reject(error)\r\n})\r\n\r\nexport default http\r\n"]}]}